<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
  
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-17974923-7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'UA-17974923-7');
    </script>
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Entrep&#244;ts et zones de stockage | Aide - Altazion</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Entrep&#244;ts et zones de stockage | Aide - Altazion">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  
  
  
  
  
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <ul>
                  <li class="title"><a href="/"><img src="https://aide.altazion.com/logo.png"></a></li>
                  <li class="subtitle"><span>Aide</span></li>
                  <li class="item" id="lnkSiteAide"><a href="https://aide.altazion.com">Utilisateurs</a></li>
                  <li class="item" id="lnkSiteDev"><a href="https://www.altazion.dev">Développeurs</a></li>
                  <li class="item" id="lnkSiteInterne" style="display:none"><a href="https://e-doc-dev.azurewebsites.net">Doc interne</a></li>
                  <li class="item" id="lnkSiteLearning" style="display:none"><a href="https://www.altazion-learning.com">e-learning</a></li>
              </ul>
              
              <script type="text/javascript">
              
                  function checkAndActivate(domain, ctl) {
                      fetch("https://" + domain).then(function (data) {
                          ctl.style.display = null;
                      }).catch(function (e) {
                          return;
                      });
                  }
              
                  var loc = document.location.hostname;
                  loc = loc.toLowerCase();
              
                  if (loc == "aide.altazion.com") {
                      lnkSiteAide.classList.add("selected");
                  }
                  else if (loc == "www.altazion.dev")
                      lnkSiteDev.classList.add("selected");
                  else if (loc == "www.altazion-learning.com") {
                      lnkSiteLearning.style.display = null;
                      lnkSiteLearning.classList.add("selected");
                  }
                  else if (loc == "e-doc-dev.azurewebsites.net") {
                      lnkSiteInterne.style.display = null;
                      lnkSiteInterne.classList.add("selected");
                  }
              
                  checkAndActivate("www.altazion-learning.com", lnkSiteLearning);
                  checkAndActivate("e-doc-dev.azurewebsites.net", lnkSiteInterne);
              
              </script>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="entrepôts-et-zones-de-stockage">Entrepôts et zones de stockage</h1>

<h2 id="généralités">Généralités</h2>
<p>Unified Stock regroupe les différents endroits contenant du stock (magasins, dépôts, etc.) sous une notion commune nommée &quot;Entrepôts&quot; (<strong>Warehouses</strong> en anglais). Ces entrepôts peuvent posséder une ou plusieurs zones de stockage (<strong>Storage Zones</strong>).</p>
<p>De cette façon, un magasin est considéré par Unified Stock comme un entrepôt et sa surface de vente comme une première zone de stockage. Il peut, par exemple, également disposer d&#39;une remise qui sera sa seconde zone de stockage.</p>
<p>Un dépôt sera également considéré comme un entrepôt et ses différents emplacements comme des zones de stockage. On peut par exemple avoir une zone réservée à la préparation de commandes (picking), une seconde pour le service après-vente ou encore une autre réservée au stockage à plus long terme.</p>
<h2 id="modèle-dobjet-et-règles-métier">Modèle d&#39;objet et règles métier</h2>
<p>Chaque entrepôt (<strong>Warehouse</strong>) dispose d&#39;un identifiant de type Guid (noté <strong>id</strong>) et d&#39;un code court unique (noté <strong>code</strong>). Deux entrepôts ne peuvent pas avoir le même identifiant ou le même code.</p>
<p>D&#39;autres informations viennent compléter les entrepôts :</p>
<ul>
<li><strong>name</strong> : Nom courant de l&#39;entrepôt.</li>
<li><strong>type</strong> : Définit le type d&#39;entrepôt, peut être <strong>MAG</strong> pour un magasin, <strong>DPT</strong> pour un dépôt.</li>
<li><strong>ownership</strong> : Permet de définir à qui appartient l&#39;entrepôt. <strong>Internal</strong> lorsqu&#39;il appartient à l&#39;entreprise, <strong>External</strong> lorsqu&#39;il est fourni par un prestataire externe.</li>
<li><strong>address</strong> : L&#39;adresse physique complète de l&#39;entrepôt, à titre indicatif.</li>
<li><strong>maxCapacity</strong> : La capacité maximale de stockage de l&#39;entrepôt. Si elle est à 0, on considère que l&#39;entrepôt n&#39;a pas de limite de stockage.</li>
<li><strong>isDeleted</strong> : Si &quot;true&quot;, alors l&#39;entrepôt a récemment été supprimé</li>
<li><strong>storageZones</strong> : Un tableau contenant les zones de stockage. Pour être valide, un entrepôt doit posséder au moins une zone de stockage mais peut en posséder davantage (relation 1..n).</li>
</ul>
<p>Le champ <strong>storageZones</strong> dans les entrepôts contient des objets de type <strong>StorageZone</strong>.  Comme pour les <strong>Warehouse</strong>, chaque zone de stockage possède également un identifiant de type Guid (noté <strong>id</strong>) et un code court (noté <strong>code</strong>). Deux zones de stockage du même type ne peuvent pas avoir le même identifiant ou le même code.</p>
<p>D&#39;autres informations viennent compléter les zones de stockage :</p>
<ul>
<li><strong>name</strong> : Nom courant de la zone de stockage.</li>
<li><strong>purpose</strong> : Fonction de la zone de stockage. <strong>Picking</strong> pour du stockage de courte durée (préparation), <strong>Storage</strong> pour du stockage longue durée, <strong>Defective</strong> pour le stockage des objets défectueux et/ou cassés, <strong>AfterSalesService</strong> concerne le stockage pour le service après vente et <strong>Assembly</strong> pour le stockage des produits destinés à la fabrication</li>
<li><strong>storageType</strong> : Type de produits que la zone est habillitée à stocker. <strong>None</strong> pour aucune condition de storage particulière, <strong>Dry</strong> pour le stockage au sec, <strong>Cold</strong> pour le stockage au froid, <strong>Frozen</strong> pour la congélation.</li>
<li><strong>hazmatIsoClasses</strong> : Tableau des habilitations de la zone à stocker certaines classes ISO de matières dangereuses (hazardous material - hazmat). Peut être vide si la zone n&#39;a pas d&#39;habilitation.</li>
<li><strong>securityLevelIds</strong> : Habilitations de niveaux de sécurité. Peut être vide si la zone n&#39;a pas d&#39;habilitation de sécurité.</li>
<li><strong>isDeleted</strong> : Si &quot;true&quot;, alors la zone a récemment été supprimée.</li>
</ul>
<p>Ci-dessous se trouve un exemple d&#39;objet <strong>Warehouse</strong> de type magasin contenant un tableau de deux <strong>StorageZone</strong> en format JSON :</p>
<pre><code class="lang-json">{
    &quot;ownership&quot;: &quot;Internal&quot;,
    &quot;address&quot;: &quot;51 rue de l&#39;Exemple, 86235, ExempleVille FRANCE&quot;,
    &quot;maxCapacity&quot;: 2000,
    &quot;isDeleted&quot;: false,
    &quot;storageZones&quot;: [
        {
            &quot;id&quot;: &quot;956ea623-4788-40e4-b2b7-5c1654c951d8&quot;,
            &quot;code&quot;: &quot;0001SV&quot;,
            &quot;name&quot;: &quot;Dispo&quot;,
            &quot;purpose&quot;: &quot;Picking&quot;,
            &quot;storageType&quot;: &quot;None&quot;,
            &quot;hazmatIsoClasses&quot;: [],
            &quot;securityLevelIds&quot;: [],
            &quot;isDeleted&quot;: false
        },
        {
            &quot;id&quot;: &quot;48c9e2e7-5d2b-4bde-92a7-eb990396342a&quot;,
            &quot;code&quot;: &quot;0001SAV&quot;,
            &quot;name&quot;: &quot;Zone SAV&quot;,
            &quot;purpose&quot;: &quot;AfterSalesService&quot;,
            &quot;storageType&quot;: &quot;None&quot;,
            &quot;hazmatIsoClasses&quot;: [],
            &quot;securityLevelIds&quot;: [],
            &quot;isDeleted&quot;: false
        }
    ],
    &quot;id&quot;: &quot;956ea623-4788-40e4-b2b7-5c1654c951d8&quot;,
    &quot;code&quot;: &quot;0001&quot;,
    &quot;name&quot;: &quot;Magasin Exemple&quot;,
    &quot;type&quot;: &quot;MAG&quot;
}
</code></pre><h3 id="particularités-des-entrepôts-de-type-magasin">Particularités des entrepôts de type Magasin</h3>
<ul>
<li>Un magasin possède par défaut une zone de stockage correspondant à sa surface de vente.</li>
<li>L&#39;identifiant unique de cette zone est par défaut identique à l&#39;identifiant de l&#39;entrepôt (du magasin).</li>
<li>Le code de cette zone est par défaut égal au code de l&#39;entrepôt (du magasin) auquel on a ajouté le suffixe &quot;SV&quot; pour &quot;Surface de Vente&quot;. Ainsi si le code du magasin est &quot;0001&quot; alors le code de la zone de stockage correspondant à sa surface de vente sera &quot;0001SV&quot;.</li>
</ul>
<h2 id="gestion-des-entrepôts-dans-unified-stock">Gestion des entrepôts dans Unified Stock</h2>
<h3 id="synchronisation-des-entrepôts-en-base-sql-avec-unified-stock">Synchronisation des entrepôts en base SQL avec Unified Stock</h3>
<p>Un traitement entièrement géré par Altazion synchronise automatiquement les différents entrepôts paramétrés dans la base principale (magasins, dépôts, etc.) avec Unified Stock.</p>
<h3 id="récupération-des-entrepôts-depuis-unified-stock">Récupération des entrepôts depuis Unified Stock</h3>
<p>Le module de traitement des stocks de Unified Stock permet de récupérer les entrepôts via des points API. Tous les points API sont détaillés dans l&#39;interface SwaggerUI :</p>
<p><img src="img/SwaggerUIWarehouses.png" alt="Interface SwaggerUi inventory"></p>
<p>Ces points sont accessibles via l&#39;URL de base suivante :</p>
<p>{UrlDeUnifiedStock}/{votreRaisonJuridique}/warehouses</p>
<p>Cette URL est à compléter en fonction de vos besoins :</p>
<ul>
<li><strong>/all</strong> en <strong>GET</strong>: permet d&#39;obtenir tous les entrepôts disponibles dans Unified Stock. Retourne un tableau de <strong>Warehouse</strong> en format JSON.</li>
<li><strong>/{warehouseGuid}</strong> en <strong>GET</strong> : permet de récupérer un entrepôt en remplaçant {warehouseGuid} par l&#39;identifiant de l&#39;entrepôts en question. Retourne un objet <strong>Warehouse</strong> en format JSON.</li>
<li><strong>multiple</strong> en <strong>POST</strong> : permet d&#39;obtenir plusieurs entrepôts en fournissant un tableau au format JSON contenant les identifiants des entrepôts à récupérer. Retourne un tableau de <strong>Warehouse</strong> en format JSON.</li>
</ul>
<p>Ainsi une url complète pour un client ayant accès au site &quot;altazion-unifiedstocks.net&quot;, dont la raison juridique est &quot;1&quot; et qui souhaite obtenir tous les entrepôts sera :</p>
<p><a href="https://altazion-unifiedstocks.net/1/warehouses/all">https://altazion-unifiedstocks.net/1/warehouses/all</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/altazion/altazion-dev/blob/5d343a6732c03f23408cdebba58ff02bdc7bcb8a/orchestrator/unified-stock/entrepotszonesstockage.md/#L1" class="contribution-link">Aidez nous &#224; am&#233;liorer cette documentation</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5></h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
          </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
